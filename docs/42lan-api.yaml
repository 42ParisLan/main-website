components:
  schemas:
    AddTournamentAdminBody:
      additionalProperties: false
      properties:
        $schema:
          description: A URL to the JSON Schema for this object.
          example: /api/schemas/AddTournamentAdminBody.json
          format: uri
          readOnly: true
          type: string
        role:
          enum:
            - ADMIN
            - SUPER_ADMIN
          example: ADMIN
          type: string
        user_id:
          example: 42
          format: int64
          type: integer
      required:
        - user_id
        - role
      type: object
    App:
      additionalProperties: true
      properties:
        $schema:
          description: A URL to the JSON Schema for this object.
          example: /api/schemas/App.json
          format: uri
          readOnly: true
          type: string
        created_at:
          example: "2024-09-01T00:00:00Z"
          format: date-time
          type: string
        description:
          example: My app is the best app
          type: string
        id:
          example: "1"
          type: string
        implicit_consent:
          default: false
          example: false
          type: boolean
        last_login_at:
          example: "2024-09-01T00:00:00Z"
          format: date-time
          type: string
        name:
          example: My App
          type: string
        owner:
          $ref: "#/components/schemas/LightUser"
        owner_id:
          format: int64
          type: integer
        redirect_uris:
          example:
            - https://myapp.com/login
          items:
            type: string
          type: array
        roles:
          example:
            - student-app
          items:
            type: string
          type: array
        secret:
          example: my-secret
          type: string
        updated_at:
          example: "2024-09-01T00:00:00Z"
          format: date-time
          type: string
      required:
        - id
        - secret
        - created_at
        - updated_at
        - owner
        - name
        - redirect_uris
        - description
        - implicit_consent
        - roles
      type: object
    AppPayload:
      additionalProperties: true
      properties:
        $schema:
          description: A URL to the JSON Schema for this object.
          example: /api/schemas/AppPayload.json
          format: uri
          readOnly: true
          type: string
        description:
          example: My app is the best app
          type: string
        implicit_consent:
          default: false
          example: false
          type: boolean
        name:
          example: My App
          type: string
        owner_id:
          format: int64
          type: integer
        redirect_uris:
          example:
            - https://myapp.com/login
          items:
            type: string
          type: array
        roles:
          example:
            - student-app
          items:
            type: string
          type: array
      required:
        - name
        - redirect_uris
        - description
        - implicit_consent
        - roles
      type: object
    Component:
      additionalProperties: false
      properties:
        $schema:
          description: A URL to the JSON Schema for this object.
          example: /api/schemas/Component.json
          format: uri
          readOnly: true
          type: string
        color:
          example: "#FF5733"
          type: string
        description:
          example: Network infrastructure and connectivity
          type: string
        id:
          example: 1
          format: int64
          type: integer
        image_url:
          example: https://example.com/network.png
          nullable: true
          type: string
        name:
          example: Network
          type: string
      required:
        - id
        - name
        - description
        - image_url
        - color
      type: object
    ComponentResult:
      additionalProperties: false
      properties:
        component_id:
          example: 1
          format: int64
          type: integer
        name:
          example: Go
          type: string
        votes:
          example: 120
          format: int64
          type: integer
      required:
        - component_id
        - name
        - votes
      type: object
    Consent:
      additionalProperties: false
      properties:
        $schema:
          description: A URL to the JSON Schema for this object.
          example: /api/schemas/Consent.json
          format: uri
          readOnly: true
          type: string
        application:
          $ref: "#/components/schemas/App"
        application_id:
          example: "1"
          type: string
        created_at:
          example: "2024-09-01T00:00:00Z"
          format: date-time
          type: string
        expiration_date:
          example: "2024-09-01T00:00:00Z"
          format: date-time
          type: string
        id:
          example: 1
          format: int64
          type: integer
        scopes:
          example:
            - openid
            - profile
          items:
            type: string
          type: array
        updated_at:
          example: "2024-09-01T00:00:00Z"
          format: date-time
          type: string
        user:
          $ref: "#/components/schemas/LightUser"
        user_id:
          example: 1
          format: int64
          type: integer
      required:
        - id
        - created_at
        - updated_at
        - application_id
        - application
        - user_id
        - user
        - scopes
        - expiration_date
      type: object
    CreateInvitation:
      additionalProperties: false
      properties:
        $schema:
          description: A URL to the JSON Schema for this object.
          example: /api/schemas/CreateInvitation.json
          format: uri
          readOnly: true
          type: string
        message:
          type: string
        role:
          type: string
        user_id:
          format: int64
          type: integer
      required:
        - message
        - role
        - user_id
      type: object
    CreateVote:
      additionalProperties: false
      properties:
        $schema:
          description: A URL to the JSON Schema for this object.
          example: /api/schemas/CreateVote.json
          format: uri
          readOnly: true
          type: string
        description:
          example: Vote for your favorite language!
          type: string
        end_at:
          example: "2025-10-20T23:59:59Z"
          format: date-time
          type: string
        start_at:
          example: "2025-10-10T00:00:00Z"
          format: date-time
          type: string
        title:
          example: Best Programming Language 2025
          type: string
      required:
        - title
        - description
        - start_at
        - end_at
      type: object
    EnvResponse:
      additionalProperties: false
      properties:
        $schema:
          description: A URL to the JSON Schema for this object.
          example: /api/schemas/EnvResponse.json
          format: uri
          readOnly: true
          type: string
        VITE_OAUTH_AUTHORIZE_URL:
          type: string
        VITE_OAUTH_CLIENT_ID:
          type: string
      required:
        - VITE_OAUTH_AUTHORIZE_URL
        - VITE_OAUTH_CLIENT_ID
      type: object
    ErrorDetail:
      additionalProperties: false
      properties:
        location:
          description: Where the error occurred, e.g. 'body.items[3].tags' or 'path.thing-id'
          type: string
        message:
          description: Error message text
          type: string
        value:
          description: The value at the given location
      type: object
    ErrorModel:
      additionalProperties: false
      properties:
        $schema:
          description: A URL to the JSON Schema for this object.
          example: /api/schemas/ErrorModel.json
          format: uri
          readOnly: true
          type: string
        detail:
          description: A human-readable explanation specific to this occurrence of the problem.
          example: Property foo is required but is missing.
          type: string
        errors:
          description: Optional list of individual error details
          items:
            $ref: "#/components/schemas/ErrorDetail"
          nullable: true
          type: array
        instance:
          description: A URI reference that identifies the specific occurrence of the problem.
          example: https://example.com/error-log/abc123
          format: uri
          type: string
        status:
          description: HTTP status code
          example: 400
          format: int64
          type: integer
        title:
          description: A short, human-readable summary of the problem type. This value should not change between occurrences of the error.
          example: Bad Request
          type: string
        type:
          default: about:blank
          description: A URI reference to human-readable documentation for the error.
          example: https://example.com/errors/example
          format: uri
          type: string
      type: object
    Invitation:
      additionalProperties: false
      properties:
        $schema:
          description: A URL to the JSON Schema for this object.
          example: /api/schemas/Invitation.json
          format: uri
          readOnly: true
          type: string
        created_at:
          format: date-time
          type: string
        id:
          format: int64
          type: integer
        message:
          type: string
        role:
          type: string
        team:
          $ref: "#/components/schemas/LightTeam"
        user:
          $ref: "#/components/schemas/LightUser"
      required:
        - id
        - message
        - role
        - created_at
        - team
        - user
      type: object
    JsonPatchOp:
      additionalProperties: false
      properties:
        from:
          description: JSON Pointer for the source of a move or copy
          type: string
        op:
          description: Operation name
          enum:
            - add
            - remove
            - replace
            - move
            - copy
            - test
          type: string
        path:
          description: JSON Pointer to the field being operated on, or the destination of a move/copy operation
          type: string
        value:
          description: The value to set
      required:
        - op
        - path
      type: object
    LightRankGroup:
      additionalProperties: false
      properties:
        id:
          example: 1
          format: int64
          type: integer
        name:
          example: Top 8
          type: string
        position:
          example: 1
          format: int64
          type: integer
        rank_max:
          example: 8
          format: int64
          type: integer
        rank_min:
          example: 1
          format: int64
          type: integer
      required:
        - id
        - name
        - rank_min
        - rank_max
        - position
      type: object
    LightTeam:
      additionalProperties: false
      properties:
        $schema:
          description: A URL to the JSON Schema for this object.
          example: /api/schemas/LightTeam.json
          format: uri
          readOnly: true
          type: string
        created_at:
          format: date-time
          type: string
        creator:
          $ref: "#/components/schemas/LightUser"
        elo:
          format: int64
          type: integer
        id:
          example: 42
          format: int64
          type: integer
        image_url:
          type: string
        is_locked:
          type: boolean
        is_registered:
          type: boolean
        is_waitlisted:
          type: boolean
        members:
          items:
            $ref: "#/components/schemas/LightTeamMember"
          nullable: true
          type: array
        name:
          example: Team Phoenix
          type: string
        rank_group:
          $ref: "#/components/schemas/LightRankGroup"
        score:
          format: int64
          type: integer
        waitlist_position:
          format: int64
          type: integer
      required:
        - id
        - name
        - is_locked
        - is_registered
        - is_waitlisted
        - created_at
      type: object
    LightTeamMember:
      additionalProperties: false
      properties:
        can_receive_team_elo:
          example: true
          type: boolean
        id:
          example: 42
          format: int64
          type: integer
        role:
          example: player
          type: string
        user:
          $ref: "#/components/schemas/LightUser"
      required:
        - id
        - user
        - role
        - can_receive_team_elo
      type: object
    LightTournament:
      additionalProperties: false
      properties:
        created_at:
          format: date-time
          type: string
        creator:
          $ref: "#/components/schemas/LightUser"
        custom_page_component:
          type: string
        description:
          example: School-wide League of Legends tournament
          type: string
        external_links:
          additionalProperties:
            type: string
          type: object
        iamge_url:
          nullable: true
          type: string
        id:
          example: 42
          format: int64
          type: integer
        is_visible:
          type: boolean
        max_teams:
          example: 32
          format: int64
          type: integer
        name:
          example: Spring Cup 2025
          type: string
        registration_end:
          example: "2025-03-10T23:59:59Z"
          format: date-time
          type: string
        registration_start:
          example: "2025-03-01T00:00:00Z"
          format: date-time
          type: string
        slug:
          example: spring-cup-2025
          type: string
        status:
          enum:
            - upcoming
            - registration_open
            - registration_closed
            - ongoing
            - completed
          example: upcoming
          type: string
        team_structure:
          additionalProperties:
            $ref: "#/components/schemas/TeamStructure"
          type: object
        tier:
          enum:
            - S Tier
            - A Tier
            - B Tier
            - C Tier
            - D Tier
            - E Tier
            - F Tier
          example: C Tier
          type: string
        tournament_end:
          example: "2025-03-20T23:59:59Z"
          format: date-time
          nullable: true
          type: string
        tournament_start:
          example: "2025-03-15T00:00:00Z"
          format: date-time
          type: string
      required:
        - id
        - slug
        - name
        - iamge_url
        - is_visible
        - registration_start
        - registration_end
        - tournament_start
        - tournament_end
        - max_teams
        - team_structure
        - tier
        - creator
        - status
        - created_at
      type: object
    LightTournamentAdmin:
      additionalProperties: false
      properties:
        role:
          enum:
            - ADMIN
            - SUPER_ADMIN
            - CREATOR
          example: ADMIN
          type: string
        user:
          $ref: "#/components/schemas/LightUser"
      required:
        - user
        - role
      type: object
    LightUser:
      additionalProperties: false
      properties:
        created_at:
          example: "2024-01-01T00:00:00Z"
          format: date-time
          type: string
        elo:
          example: 0
          format: int64
          type: integer
        email:
          example: froz@42paris.fr
          type: string
        id:
          example: 42
          format: int64
          type: integer
        kind:
          enum:
            - user
            - admin
          example: user
          type: string
        picture:
          example: https://upload.wikimedia.org/wikipedia/commons/thumb/e/e5/Rick_Astley-cropped.jpg/220px-Rick_Astley-cropped.jpg
          nullable: true
          type: string
        roles:
          example:
            - user
          items:
            type: string
          type: array
        updated_at:
          example: "2024-01-01T00:00:00Z"
          format: date-time
          type: string
        username:
          example: froz
          type: string
      required:
        - id
        - username
        - email
        - created_at
        - updated_at
        - picture
        - kind
        - roles
        - elo
      type: object
    LightVote:
      additionalProperties: false
      properties:
        components_count:
          example: 4
          format: int64
          type: integer
        created_at:
          example: "2025-10-01T12:00:00Z"
          format: date-time
          type: string
        creator:
          $ref: "#/components/schemas/LightUser"
        description:
          example: Vote for your favorite language!
          type: string
        end_at:
          example: "2025-10-20T23:59:59Z"
          format: date-time
          type: string
        id:
          example: 1
          format: int64
          type: integer
        start_at:
          example: "2025-10-10T00:00:00Z"
          format: date-time
          type: string
        title:
          example: Best Programming Language 2025
          type: string
        visible:
          example: true
          type: boolean
      required:
        - id
        - title
        - description
        - start_at
        - end_at
        - created_at
        - components_count
        - visible
        - creator
      type: object
    Notification:
      additionalProperties: false
      properties:
        created_at:
          format: date-time
          type: string
        href:
          type: string
        id:
          format: int64
          type: integer
        message:
          type: string
        read:
          type: boolean
        read_at:
          format: date-time
          type: string
        title:
          type: string
        type:
          type: string
      required:
        - id
        - created_at
        - type
        - title
        - message
        - read
      type: object
    Permission:
      additionalProperties: false
      properties:
        methods:
          example:
            - GET
          items:
            type: string
          type: array
        path:
          example: /users
          type: string
      required:
        - path
        - methods
      type: object
    ResponseApp:
      additionalProperties: false
      properties:
        $schema:
          description: A URL to the JSON Schema for this object.
          example: /api/schemas/ResponseApp.json
          format: uri
          readOnly: true
          type: string
        items:
          items:
            $ref: "#/components/schemas/App"
          nullable: true
          type: array
        limit:
          example: 10
          format: int64
          type: integer
        page:
          example: 1
          format: int64
          type: integer
        total:
          example: 100
          format: int64
          type: integer
        total_pages:
          example: 10
          format: int64
          type: integer
      required:
        - items
        - page
        - total_pages
        - limit
        - total
      type: object
    ResponseConsent:
      additionalProperties: false
      properties:
        $schema:
          description: A URL to the JSON Schema for this object.
          example: /api/schemas/ResponseConsent.json
          format: uri
          readOnly: true
          type: string
        items:
          items:
            $ref: "#/components/schemas/Consent"
          nullable: true
          type: array
        limit:
          example: 10
          format: int64
          type: integer
        page:
          example: 1
          format: int64
          type: integer
        total:
          example: 100
          format: int64
          type: integer
        total_pages:
          example: 10
          format: int64
          type: integer
      required:
        - items
        - page
        - total_pages
        - limit
        - total
      type: object
    ResponseInvitation:
      additionalProperties: false
      properties:
        $schema:
          description: A URL to the JSON Schema for this object.
          example: /api/schemas/ResponseInvitation.json
          format: uri
          readOnly: true
          type: string
        items:
          items:
            $ref: "#/components/schemas/Invitation"
          nullable: true
          type: array
        limit:
          example: 10
          format: int64
          type: integer
        page:
          example: 1
          format: int64
          type: integer
        total:
          example: 100
          format: int64
          type: integer
        total_pages:
          example: 10
          format: int64
          type: integer
      required:
        - items
        - page
        - total_pages
        - limit
        - total
      type: object
    ResponseLightTeam:
      additionalProperties: false
      properties:
        $schema:
          description: A URL to the JSON Schema for this object.
          example: /api/schemas/ResponseLightTeam.json
          format: uri
          readOnly: true
          type: string
        items:
          items:
            $ref: "#/components/schemas/LightTeam"
          nullable: true
          type: array
        limit:
          example: 10
          format: int64
          type: integer
        page:
          example: 1
          format: int64
          type: integer
        total:
          example: 100
          format: int64
          type: integer
        total_pages:
          example: 10
          format: int64
          type: integer
      required:
        - items
        - page
        - total_pages
        - limit
        - total
      type: object
    ResponseLightTournament:
      additionalProperties: false
      properties:
        $schema:
          description: A URL to the JSON Schema for this object.
          example: /api/schemas/ResponseLightTournament.json
          format: uri
          readOnly: true
          type: string
        items:
          items:
            $ref: "#/components/schemas/LightTournament"
          nullable: true
          type: array
        limit:
          example: 10
          format: int64
          type: integer
        page:
          example: 1
          format: int64
          type: integer
        total:
          example: 100
          format: int64
          type: integer
        total_pages:
          example: 10
          format: int64
          type: integer
      required:
        - items
        - page
        - total_pages
        - limit
        - total
      type: object
    ResponseLightUser:
      additionalProperties: false
      properties:
        $schema:
          description: A URL to the JSON Schema for this object.
          example: /api/schemas/ResponseLightUser.json
          format: uri
          readOnly: true
          type: string
        items:
          items:
            $ref: "#/components/schemas/LightUser"
          nullable: true
          type: array
        limit:
          example: 10
          format: int64
          type: integer
        page:
          example: 1
          format: int64
          type: integer
        total:
          example: 100
          format: int64
          type: integer
        total_pages:
          example: 10
          format: int64
          type: integer
      required:
        - items
        - page
        - total_pages
        - limit
        - total
      type: object
    ResponseLightVote:
      additionalProperties: false
      properties:
        $schema:
          description: A URL to the JSON Schema for this object.
          example: /api/schemas/ResponseLightVote.json
          format: uri
          readOnly: true
          type: string
        items:
          items:
            $ref: "#/components/schemas/LightVote"
          nullable: true
          type: array
        limit:
          example: 10
          format: int64
          type: integer
        page:
          example: 1
          format: int64
          type: integer
        total:
          example: 100
          format: int64
          type: integer
        total_pages:
          example: 10
          format: int64
          type: integer
      required:
        - items
        - page
        - total_pages
        - limit
        - total
      type: object
    ResultsResponse:
      additionalProperties: false
      properties:
        $schema:
          description: A URL to the JSON Schema for this object.
          example: /api/schemas/ResultsResponse.json
          format: uri
          readOnly: true
          type: string
        results:
          items:
            $ref: "#/components/schemas/ComponentResult"
          nullable: true
          type: array
        total_votes:
          example: 290
          format: int64
          type: integer
        vote_id:
          example: 1
          format: int64
          type: integer
      required:
        - vote_id
        - results
        - total_votes
      type: object
    Role:
      additionalProperties: false
      properties:
        description:
          example: admin role
          type: string
        inherits:
          example:
            - admin role inherits
          items:
            type: string
          type: array
        name:
          example: admin
          type: string
        permissions:
          items:
            $ref: "#/components/schemas/Permission"
          type: array
      required:
        - name
        - description
        - permissions
        - inherits
      type: object
    TeamStructure:
      additionalProperties: false
      properties:
        max:
          format: int64
          minimum: 1
          type: integer
        min:
          format: int64
          minimum: 0
          type: integer
      required:
        - min
        - max
      type: object
    Tournament:
      additionalProperties: false
      properties:
        $schema:
          description: A URL to the JSON Schema for this object.
          example: /api/schemas/Tournament.json
          format: uri
          readOnly: true
          type: string
        admins:
          items:
            $ref: "#/components/schemas/LightTournamentAdmin"
          nullable: true
          type: array
        created_at:
          format: date-time
          type: string
        creator:
          $ref: "#/components/schemas/LightUser"
        custom_page_component:
          type: string
        description:
          type: string
        external_links:
          additionalProperties:
            type: string
          type: object
        iamge_url:
          nullable: true
          type: string
        id:
          example: 42
          format: int64
          type: integer
        is_visible:
          type: boolean
        max_teams:
          format: int64
          type: integer
        name:
          example: Spring Cup 2025
          type: string
        rank_groups:
          items:
            $ref: "#/components/schemas/LightRankGroup"
          nullable: true
          type: array
        registration_end:
          format: date-time
          type: string
        registration_start:
          format: date-time
          type: string
        slug:
          example: spring-cup-2025
          type: string
        status:
          enum:
            - upcoming
            - registration_open
            - registration_closed
            - ongoing
            - completed
          example: upcoming
          type: string
        team_structure:
          additionalProperties:
            $ref: "#/components/schemas/TeamStructure"
          type: object
        teams:
          items:
            $ref: "#/components/schemas/LightTeam"
          nullable: true
          type: array
        tier:
          enum:
            - S Tier
            - A Tier
            - B Tier
            - C Tier
            - D Tier
            - E Tier
            - F Tier
          example: C Tier
          type: string
        tournament_end:
          format: date-time
          nullable: true
          type: string
        tournament_start:
          format: date-time
          type: string
      required:
        - id
        - slug
        - name
        - description
        - iamge_url
        - is_visible
        - registration_start
        - registration_end
        - tournament_start
        - tournament_end
        - max_teams
        - team_structure
        - custom_page_component
        - tier
        - creator
        - admins
        - status
        - created_at
      type: object
    UpdateRankGroup:
      additionalProperties: false
      properties:
        position:
          format: int64
          type: integer
        rank_max:
          format: int64
          type: integer
        rank_min:
          format: int64
          type: integer
      required:
        - position
        - rank_min
        - rank_max
      type: object
    UpdateTeamRankGroupBody:
      additionalProperties: false
      properties:
        $schema:
          description: A URL to the JSON Schema for this object.
          example: /api/schemas/UpdateTeamRankGroupBody.json
          format: uri
          readOnly: true
          type: string
        rank_group_id:
          example: 1
          format: int64
          type: integer
      required:
        - rank_group_id
      type: object
    UpdateVote:
      additionalProperties: false
      properties:
        $schema:
          description: A URL to the JSON Schema for this object.
          example: /api/schemas/UpdateVote.json
          format: uri
          readOnly: true
          type: string
        description:
          example: Vote for your favorite language!
          nullable: true
          type: string
        end_at:
          example: "2025-10-20T23:59:59Z"
          format: date-time
          nullable: true
          type: string
        start_at:
          example: "2025-10-10T00:00:00Z"
          format: date-time
          nullable: true
          type: string
        title:
          example: Best Programming Language 2025
          nullable: true
          type: string
        visible:
          example: true
          nullable: true
          type: boolean
      type: object
    User:
      additionalProperties: false
      properties:
        $schema:
          description: A URL to the JSON Schema for this object.
          example: /api/schemas/User.json
          format: uri
          readOnly: true
          type: string
        created_at:
          example: "2024-01-01T00:00:00Z"
          format: date-time
          type: string
        elo:
          example: 0
          format: int64
          type: integer
        email:
          example: froz@42paris.fr
          type: string
        id:
          example: 42
          format: int64
          type: integer
        kind:
          enum:
            - user
            - admin
          example: user
          type: string
        picture:
          example: https://upload.wikimedia.org/wikipedia/commons/thumb/e/e5/Rick_Astley-cropped.jpg/220px-Rick_Astley-cropped.jpg
          nullable: true
          type: string
        roles:
          example:
            - user
          items:
            type: string
          type: array
        updated_at:
          example: "2024-01-01T00:00:00Z"
          format: date-time
          type: string
        username:
          example: froz
          type: string
      required:
        - id
        - username
        - email
        - created_at
        - updated_at
        - picture
        - kind
        - roles
        - elo
      type: object
    Vote:
      additionalProperties: false
      properties:
        $schema:
          description: A URL to the JSON Schema for this object.
          example: /api/schemas/Vote.json
          format: uri
          readOnly: true
          type: string
        components:
          items:
            $ref: "#/components/schemas/Component"
          nullable: true
          type: array
        creator:
          $ref: "#/components/schemas/LightUser"
        description:
          example: Vote for your favorite language!
          type: string
        end_at:
          example: "2025-10-20T23:59:59Z"
          format: date-time
          type: string
        id:
          example: 1
          format: int64
          type: integer
        start_at:
          example: "2025-10-10T00:00:00Z"
          format: date-time
          type: string
        title:
          example: Best Programming Language 2025
          type: string
        visible:
          example: true
          type: boolean
      required:
        - id
        - title
        - description
        - start_at
        - end_at
        - visible
        - components
        - creator
      type: object
  securitySchemes:
    OAuth2 Auth:
      description: OAuth2 security scheme
      flows:
        authorizationCode:
          authorizationUrl: http://localhost:8080/api/openid/authorize
          refreshUrl: http://localhost:8080/api/openid/token
          scopes:
            email: see your email address
            offline_access: have access to your account even when you are not connected
            openid: connect to the identity provider
            profile: see your profile
            security: access to the security API
          tokenUrl: http://localhost:8080/api/openid/oauth/token
        clientCredentials:
          scopes:
            email: see your email address
            offline_access: have access to your account even when you are not connected
            openid: connect to the identity provider
            profile: see your profile
            security: access to the security API
          tokenUrl: http://localhost:8080/api/openid/oauth/token
      scheme: bearer
      type: oauth2
info:
  contact:
    email: si@42paris.fr
    name: IT Team 42 Paris
  description: |
    <!-- 42 logo -->

    # How to use this API

    ## Create an application

    In order to use this API, you need to create an application. To do this go to the [applications page](http://localhost:8080/applications) and click on the "Create Application" button. Fill in the form and click on the "Create" button.

    ### Details

    - **Name**: The name of the application.
    - **Description**: A description of the application.
    - **Redirect URLs**: The URLs to redirect to after authentication.
    - **Roles**: The roles that the application can have. **Note**: The roles are only available for 42's staff.

    ## Authentication

    To authenticate a user, you need to redirect them to the following URL:

    ```txt
    http://localhost:8080/auth?client_id=YOUR_CLIENT_ID&redirect_uri=YOUR_REDIRECT_URI
    ```

    Replace `YOUR_CLIENT_ID` with the client ID of your application and `YOUR_REDIRECT_URI` with the redirect URI of your application.

    ## Get user information

    To get the information of the authenticated user, you need to make a GET request to the following URL:

    ```txt
    http://localhost:8080/api/openid/userinfo
    ```

    You need to include the `Authorization` header with the value

    ```txt
    Bearer YOUR_ACCESS_TOKEN
    ```

    Replace `YOUR_ACCESS_TOKEN` with the access token you received after authenticating the user.
  title: 42Lan API
  version: 1.2.0
openapi: 3.0.3
paths:
  /apps:
    get:
      description: This endpoint is used to search apps.
      operationId: searchApps
      parameters:
        - example: tmatis
          explode: false
          in: query
          name: query
          schema:
            example: tmatis
            type: string
        - example: "1"
          explode: false
          in: query
          name: owner_id
          schema:
            example: "1"
            type: string
        - example: 0
          explode: false
          in: query
          name: page
          schema:
            default: 0
            example: 0
            format: int64
            minimum: 0
            type: integer
        - example: 10
          explode: false
          in: query
          name: limit
          schema:
            default: 20
            example: 10
            format: int64
            maximum: 100
            minimum: 1
            type: integer
        - example: asc
          explode: false
          in: query
          name: order
          schema:
            default: desc
            enum:
              - asc
              - desc
            example: asc
            type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ResponseApp"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - OAuth2 Auth:
            - profile
      summary: Search Apps
      tags:
        - Apps
    post:
      description: This endpoint is used to create a new app. **Users only.**
      operationId: createApp
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/AppPayload"
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/App"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - OAuth2 Auth:
            - security
      summary: Create App
      tags:
        - Apps
  /apps/{app_id}/me/consent:
    get:
      description: This endpoint is used to get the consent of the current user for an app.
      operationId: getMyConsentForApp
      parameters:
        - example: "1"
          in: path
          name: app_id
          required: true
          schema:
            example: "1"
            type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Consent"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - OAuth2 Auth:
            - profile
      summary: Get my consent for an app
      tags:
        - Consents
        - Apps
  /apps/{id}:
    delete:
      description: This endpoint is used to delete an app by its ID. **Users only.**
      operationId: deleteApp
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
      responses:
        "204":
          description: No Content
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - OAuth2 Auth:
            - security
      summary: Delete App
      tags:
        - Apps
    get:
      description: This endpoint is used to get an app by its ID. **Users only.**
      operationId: getAppByID
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/App"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - OAuth2 Auth:
            - security
      summary: Get App by ID
      tags:
        - Apps
    patch:
      description: Partial update operation supporting both JSON Merge Patch & JSON Patch updates.
      operationId: patch-App-By-ID
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json-patch+json:
            schema:
              items:
                $ref: "#/components/schemas/JsonPatchOp"
              nullable: true
              type: array
          application/merge-patch+json:
            schema:
              additionalProperties: true
              properties:
                $schema:
                  description: A URL to the JSON Schema for this object.
                  example: /api/schemas/AppPayload.json
                  format: uri
                  readOnly: true
                  type: string
                description:
                  example: My app is the best app
                  type: string
                implicit_consent:
                  default: false
                  example: false
                  type: boolean
                name:
                  example: My App
                  type: string
                owner_id:
                  format: int64
                  type: integer
                redirect_uris:
                  example:
                    - https://myapp.com/login
                  items:
                    type: string
                  type: array
                roles:
                  example:
                    - student-app
                  items:
                    type: string
                  type: array
              type: object
          application/merge-patch+shorthand:
            schema:
              additionalProperties: true
              properties:
                $schema:
                  description: A URL to the JSON Schema for this object.
                  example: /api/schemas/AppPayload.json
                  format: uri
                  readOnly: true
                  type: string
                description:
                  example: My app is the best app
                  type: string
                implicit_consent:
                  default: false
                  example: false
                  type: boolean
                name:
                  example: My App
                  type: string
                owner_id:
                  format: int64
                  type: integer
                redirect_uris:
                  example:
                    - https://myapp.com/login
                  items:
                    type: string
                  type: array
                roles:
                  example:
                    - student-app
                  items:
                    type: string
                  type: array
              type: object
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/App"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - OAuth2 Auth:
            - security
      summary: Patch App-By-ID
      tags:
        - Apps
    put:
      description: This endpoint is used to update an app by its ID. **Users only.**
      operationId: updateApp
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/AppPayload"
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/App"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - OAuth2 Auth:
            - security
      summary: Update App
      tags:
        - Apps
  /apps/{id}/rotate-secret:
    post:
      description: This endpoint is used to rotate an app's secret by its ID. **Users only.**
      operationId: rotateAppSecret
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/App"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - OAuth2 Auth:
            - security
      summary: Rotate App Secret
      tags:
        - Apps
  /auth/callback:
    get:
      description: |-
        This endpoint is used to handle the OAuth2 callback from the OAuth2 provider.
        		It should exchange the code for an access token and return a generated TokenSet.
        		⚠️ **You are probably not interested in this endpoint as it is should be only used by the frontend**.
      operationId: getOAuthCallback
      parameters:
        - description: The OAuth2 code to exchange for a token
          example: "123456"
          explode: false
          in: query
          name: code
          required: true
          schema:
            description: The OAuth2 code to exchange for a token
            example: "123456"
            type: string
        - description: The redirect URI to use for the OAuth2 callback
          example: http://localhost:8080/auth/callback
          explode: false
          in: query
          name: redirect_uri
          schema:
            description: The redirect URI to use for the OAuth2 callback
            example: http://localhost:8080/auth/callback
            type: string
      responses:
        "204":
          description: No Content
          headers:
            Set-Cookie:
              schema:
                type: string
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      summary: OAuth2 Callback
      tags:
        - Authentification
  /auth/logout:
    get:
      description: |-
        This endpoint is used to log out the user.
        		It should clear the auth cookie and invalidate the session.
        		⚠️ **You are probably not interested in this endpoint as it is should be only used by the frontend**
      operationId: logout
      responses:
        "204":
          description: No Content
          headers:
            Set-Cookie:
              schema:
                type: string
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - OAuth2 Auth:
            - security
      summary: Logout
      tags:
        - Authentification
  /components/{id}:
    delete:
      description: This endpoint is used to delete a component.
      operationId: deleteComponent
      parameters:
        - example: 42
          in: path
          name: id
          required: true
          schema:
            example: 42
            format: int64
            type: integer
      responses:
        "200":
          content:
            application/json:
              schema:
                type: string
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - OAuth2 Auth:
            - profile
      summary: DELETE Component
      tags:
        - Vote
    patch:
      description: This endpoint is used to update a component.
      operationId: updateComponent
      parameters:
        - example: 42
          in: path
          name: id
          required: true
          schema:
            example: 42
            format: int64
            type: integer
      requestBody:
        content:
          multipart/form-data:
            encoding:
              color:
                contentType: text/plain
              description:
                contentType: text/plain
              image:
                contentType: image/*
              name:
                contentType: text/plain
            schema:
              properties:
                color:
                  example: "#FF5733"
                  type: string
                description:
                  example: Network infrastructure and connectivity
                  type: string
                image:
                  contentEncoding: binary
                  contentMediaType: application/octet-stream
                  format: binary
                  type: string
                name:
                  example: Network
                  type: string
              type: object
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Component"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - OAuth2 Auth:
            - profile
      summary: Update Component
      tags:
        - Vote
  /consents:
    get:
      description: This endpoint is used to search consents.
      operationId: searchConsents
      parameters:
        - example: "1"
          explode: false
          in: query
          name: user_id
          schema:
            example: "1"
            type: string
        - example: "1"
          explode: false
          in: query
          name: application_id
          schema:
            example: "1"
            type: string
        - example: 0
          explode: false
          in: query
          name: page
          schema:
            default: 0
            example: 0
            format: int64
            minimum: 0
            type: integer
        - example: 10
          explode: false
          in: query
          name: limit
          schema:
            default: 20
            example: 10
            format: int64
            maximum: 100
            minimum: 1
            type: integer
        - example: asc
          explode: false
          in: query
          name: order
          schema:
            default: desc
            enum:
              - asc
              - desc
            example: asc
            type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ResponseConsent"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - OAuth2 Auth:
            - security
      summary: Search Consents
      tags:
        - Consents
  /consents/{id}:
    delete:
      description: This endpoint is used to delete a consent by its ID.
      operationId: deleteConsent
      parameters:
        - example: 1
          in: path
          name: id
          required: true
          schema:
            example: 1
            format: int64
            type: integer
      responses:
        "204":
          description: No Content
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - OAuth2 Auth:
            - security
      summary: Delete Consent
      tags:
        - Consents
    get:
      description: This endpoint is used to get a consent by its ID.
      operationId: getConsentByID
      parameters:
        - example: 1
          in: path
          name: id
          required: true
          schema:
            example: 1
            format: int64
            type: integer
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Consent"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - OAuth2 Auth:
            - security
      summary: Get Consent by ID
      tags:
        - Consents
  /env:
    get:
      description: Returns frontend environment variables needed for OAuth
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EnvResponse"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      summary: Frontend Env Vars
      tags:
        - Env
  /invitations/{id}:
    delete:
      description: This endpoint is used to delete an invitation.
      operationId: deleteInvitation
      parameters:
        - example: 42
          in: path
          name: id
          required: true
          schema:
            example: 42
            format: int64
            type: integer
      responses:
        "200":
          content:
            application/json:
              schema:
                type: string
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - OAuth2 Auth:
            - profile
      summary: Delete Invitation
      tags:
        - Invitations
  /invitations/{id}/accept:
    post:
      description: This endpoint is used to accept an invitation.
      operationId: acceptInvitation
      parameters:
        - example: 42
          in: path
          name: id
          required: true
          schema:
            example: 42
            format: int64
            type: integer
      responses:
        "200":
          content:
            application/json:
              schema:
                type: string
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - OAuth2 Auth:
            - profile
      summary: Accept An Invitation
      tags:
        - Invitations
  /me:
    get:
      description: This endpoint is used to get the current user.
      operationId: getCurrentUser
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/User"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - OAuth2 Auth:
            - profile
      summary: Get current user
      tags:
        - Users
  /me/anonymize:
    post:
      description: This endpoint is used to anonymize the current user (remove personal data).
      operationId: anonymizeCurrentUser
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/User"
          description: OK
          headers:
            Set-Cookie:
              schema:
                type: string
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - OAuth2 Auth:
            - profile
      summary: Anonymize current user
      tags:
        - Users
  /me/apps:
    get:
      description: This endpoint is used to get all apps for the current user. **Users only.**
      operationId: getMyApps
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ResponseApp"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - OAuth2 Auth:
            - profile
      summary: Get My Apps
      tags:
        - Apps
        - Users
  /me/consents:
    get:
      description: This endpoint is used to get the consents of the current user.
      operationId: getMyConsents
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ResponseConsent"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - OAuth2 Auth:
            - profile
      summary: Get my consents
      tags:
        - Consents
  /me/invitations:
    get:
      description: This endpoint is used to get invitations that belong to a user.
      operationId: getInvitationsForMe
      parameters:
        - example: 0
          explode: false
          in: query
          name: page
          schema:
            default: 0
            example: 0
            format: int64
            minimum: 0
            type: integer
        - example: 10
          explode: false
          in: query
          name: limit
          schema:
            default: 20
            example: 10
            format: int64
            maximum: 100
            minimum: 1
            type: integer
        - example: asc
          explode: false
          in: query
          name: order
          schema:
            default: desc
            enum:
              - asc
              - desc
            example: asc
            type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ResponseInvitation"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - OAuth2 Auth:
            - profile
      summary: Get Invitations For Me
      tags:
        - Invitations
  /me/invitations/live:
    get:
      description: Server-Sent Events stream that first sends the latest invitations, then pushes new invitations in real-time.
      operationId: liveInvitations
      responses:
        "200":
          content:
            text/event-stream:
              schema:
                description: Each oneOf object in the array represents one possible Server Sent Events (SSE) message, serialized as UTF-8 text according to the SSE specification.
                items:
                  oneOf:
                    - properties:
                        data:
                          $ref: "#/components/schemas/Invitation"
                        event:
                          const: message
                          description: The event name.
                          type: string
                        id:
                          description: The event ID.
                          type: integer
                        retry:
                          description: The retry time in milliseconds.
                          type: integer
                      required:
                        - data
                      title: Event message
                      type: object
                title: Server Sent Events
                type: array
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - OAuth2 Auth:
            - profile
      summary: Live invitations stream
      tags:
        - Invitations
  /me/notifications:
    get:
      description: Server-Sent Events stream that sends live notifications in real-time. Streams new notifications as they occur.
      operationId: liveNotifications
      responses:
        "200":
          content:
            text/event-stream:
              schema:
                description: Each oneOf object in the array represents one possible Server Sent Events (SSE) message, serialized as UTF-8 text according to the SSE specification.
                items:
                  oneOf:
                    - properties:
                        data:
                          $ref: "#/components/schemas/Notification"
                        event:
                          const: message
                          description: The event name.
                          type: string
                        id:
                          description: The event ID.
                          type: integer
                        retry:
                          description: The retry time in milliseconds.
                          type: integer
                      required:
                        - data
                      title: Event message
                      type: object
                title: Server Sent Events
                type: array
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - OAuth2 Auth:
            - profile
      summary: Live notifications stream
      tags:
        - Notifications
  /me/permissions:
    get:
      description: This endpoint is used to get the current user RBAC permissions.
      operationId: getCurrentUserRBACPermissions
      responses:
        "200":
          content:
            application/json:
              schema:
                items:
                  $ref: "#/components/schemas/Permission"
                type: array
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - OAuth2 Auth:
            - profile
      summary: Get current user RBAC permissions
      tags:
        - RBAC
        - Users
  /notifications/{id}/read:
    post:
      description: This endpoint is used to mark a notification as read.
      operationId: markNotificationAsRead
      parameters:
        - example: 42
          in: path
          name: id
          required: true
          schema:
            example: 42
            format: int64
            type: integer
      responses:
        "200":
          content:
            application/json:
              schema:
                type: string
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - OAuth2 Auth:
            - profile
      summary: Mark notification as read
      tags:
        - Notifications
  /roles:
    get:
      description: This endpoint is used to get the roles.
      operationId: getRoles
      responses:
        "200":
          content:
            application/json:
              schema:
                items:
                  $ref: "#/components/schemas/Role"
                type: array
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - OAuth2 Auth:
            - profile
      summary: Get roles
      tags:
        - RBAC
        - Roles
  /teams/{id}:
    delete:
      description: This endpoint is used to delete a team.
      operationId: deleteTeam
      parameters:
        - example: 42
          in: path
          name: id
          required: true
          schema:
            example: 42
            format: int64
            type: integer
      responses:
        "200":
          content:
            application/json:
              schema:
                type: string
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - OAuth2 Auth:
            - profile
      summary: Delete Team
      tags:
        - Teams
    get:
      description: This endpoint is used to get a team.
      operationId: getTeam
      parameters:
        - example: 42
          in: path
          name: id
          required: true
          schema:
            example: 42
            format: int64
            type: integer
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/LightTeam"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - OAuth2 Auth:
            - profile
      summary: Get Team
      tags:
        - Teams
    patch:
      description: This endpoint is used to update a team.
      operationId: updateTeam
      parameters:
        - example: 42
          in: path
          name: id
          required: true
          schema:
            example: 42
            format: int64
            type: integer
      requestBody:
        content:
          multipart/form-data:
            encoding:
              image:
                contentType: image/*
              name:
                contentType: text/plain
            schema:
              properties:
                image:
                  contentEncoding: binary
                  contentMediaType: application/octet-stream
                  format: binary
                  type: string
                name:
                  example: Team Phoenix
                  type: string
              type: object
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/LightTeam"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - OAuth2 Auth:
            - profile
      summary: Update Team
      tags:
        - Teams
  /teams/{id}/invitations:
    get:
      description: This endpoint is used to get invitations that belong to a team.
      operationId: getInvitationsForTeam
      parameters:
        - example: 42
          in: path
          name: id
          required: true
          schema:
            example: 42
            format: int64
            type: integer
        - example: 0
          explode: false
          in: query
          name: page
          schema:
            default: 0
            example: 0
            format: int64
            minimum: 0
            type: integer
        - example: 10
          explode: false
          in: query
          name: limit
          schema:
            default: 20
            example: 10
            format: int64
            maximum: 100
            minimum: 1
            type: integer
        - example: asc
          explode: false
          in: query
          name: order
          schema:
            default: desc
            enum:
              - asc
              - desc
            example: asc
            type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ResponseInvitation"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - OAuth2 Auth:
            - profile
      summary: Get Invitations For Team
      tags:
        - Invitations
    post:
      description: This endpoint is used to create invitation that belong to a team.
      operationId: createInvitationForTeam
      parameters:
        - example: 42
          in: path
          name: id
          required: true
          schema:
            example: 42
            format: int64
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CreateInvitation"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Invitation"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - OAuth2 Auth:
            - profile
      summary: Create Invitation For Team
      tags:
        - Invitations
  /teams/{id}/leave:
    post:
      description: This endpoint is used to leave a team.
      operationId: leaveTeam
      parameters:
        - example: 42
          in: path
          name: id
          required: true
          schema:
            example: 42
            format: int64
            type: integer
      responses:
        "200":
          content:
            application/json:
              schema:
                type: string
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - OAuth2 Auth:
            - profile
      summary: Leave Team
      tags:
        - Teams
  /teams/{id}/lock:
    post:
      description: This endpoint is used to lock a team.
      operationId: lockTeam
      parameters:
        - example: 42
          in: path
          name: id
          required: true
          schema:
            example: 42
            format: int64
            type: integer
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/LightTeam"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - OAuth2 Auth:
            - profile
      summary: Lock Team
      tags:
        - Teams
  /teams/{id}/rank-group:
    patch:
      description: This endpoint is used to update the rank group of a team.
      operationId: updateTeamRankGroup
      parameters:
        - example: 42
          in: path
          name: id
          required: true
          schema:
            example: 42
            format: int64
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UpdateTeamRankGroupBody"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/LightTeam"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - OAuth2 Auth:
            - profile
      summary: Update Team Rank Group
      tags:
        - RankGroups
  /teams/{id}/unlock:
    post:
      description: This endpoint is used to unlock a team.
      operationId: unlockTeam
      parameters:
        - example: 42
          in: path
          name: id
          required: true
          schema:
            example: 42
            format: int64
            type: integer
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/LightTeam"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - OAuth2 Auth:
            - profile
      summary: Unlock Team
      tags:
        - Teams
  /tournaments:
    get:
      description: This endpoint is used to get all tournaments.
      operationId: getAllTournaments
      parameters:
        - example: 0
          explode: false
          in: query
          name: page
          schema:
            default: 0
            example: 0
            format: int64
            minimum: 0
            type: integer
        - example: 10
          explode: false
          in: query
          name: limit
          schema:
            default: 20
            example: 10
            format: int64
            maximum: 100
            minimum: 1
            type: integer
        - example: asc
          explode: false
          in: query
          name: order
          schema:
            default: desc
            enum:
              - asc
              - desc
            example: asc
            type: string
        - example: visible
          explode: false
          in: query
          name: visible
          schema:
            default: visible
            enum:
              - all
              - visible
            example: visible
            type: string
        - example: ongoing
          explode: false
          in: query
          name: status
          schema:
            default: all
            enum:
              - all
              - ongoing
              - finish
            example: ongoing
            type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ResponseLightTournament"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - OAuth2 Auth:
            - profile
      summary: Get All Tournaments
      tags:
        - Tournament
    post:
      description: This endpoint is used to create a tournament.
      operationId: createTournament
      requestBody:
        content:
          multipart/form-data:
            encoding:
              custom_page_component:
                contentType: text/plain
              description:
                contentType: text/plain
              image:
                contentType: image/*
              max_teams:
                contentType: text/plain
              name:
                contentType: text/plain
              registration_end:
                contentType: text/plain
              registration_start:
                contentType: text/plain
              slug:
                contentType: text/plain
              team_structure:
                contentType: text/plain
              tier:
                contentType: text/plain
              tournament_start:
                contentType: text/plain
            schema:
              properties:
                custom_page_component:
                  type: string
                description:
                  example: School-wide League of Legends tournament
                  type: string
                image:
                  contentEncoding: binary
                  contentMediaType: application/octet-stream
                  format: binary
                  type: string
                max_teams:
                  example: 32
                  format: int64
                  minimum: 3
                  type: integer
                name:
                  example: Spring Cup 2025
                  type: string
                registration_end:
                  example: "2025-03-10T23:59:59Z"
                  format: date-time
                  type: string
                registration_start:
                  example: "2025-03-01T00:00:00Z"
                  format: date-time
                  type: string
                slug:
                  example: spring-cup-2025
                  type: string
                team_structure:
                  type: string
                tier:
                  default: C Tier
                  enum:
                    - S Tier
                    - A Tier
                    - B Tier
                    - C Tier
                    - D Tier
                    - E Tier
                    - F Tier
                  example: C Tier
                  type: string
                tournament_start:
                  example: "2025-03-15T00:00:00Z"
                  format: date-time
                  type: string
              required:
                - slug
                - name
                - registration_start
                - registration_end
                - tournament_start
                - max_teams
              type: object
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Tournament"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - OAuth2 Auth:
            - profile
      summary: Create Tournament
      tags:
        - Tournament
  /tournaments/{id_or_slug}:
    get:
      description: This endpoint is used to get a tournament.
      operationId: getTournamentByID
      parameters:
        - example: "42"
          in: path
          name: id_or_slug
          required: true
          schema:
            example: "42"
            type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Tournament"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - OAuth2 Auth:
            - profile
      summary: Get Tournament by ID
      tags:
        - Tournament
  /tournaments/{id}:
    delete:
      description: This endpoint is used to delete a tournament.
      operationId: deleteTournament
      parameters:
        - example: 42
          in: path
          name: id
          required: true
          schema:
            example: 42
            format: int64
            type: integer
      responses:
        "200":
          content:
            application/json:
              schema:
                type: string
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - OAuth2 Auth:
            - profile
      summary: Delete Tournament
      tags:
        - Tournament
    patch:
      description: This endpoint is used to update a tournament.
      operationId: updateTournament
      parameters:
        - example: 42
          in: path
          name: id
          required: true
          schema:
            example: 42
            format: int64
            type: integer
      requestBody:
        content:
          multipart/form-data:
            encoding:
              custom_page_component:
                contentType: text/plain
              description:
                contentType: text/plain
              external_links:
                contentType: text/plain
              image:
                contentType: image/*
              is_visible:
                contentType: text/plain
              max_teams:
                contentType: text/plain
              registration_end:
                contentType: text/plain
              registration_start:
                contentType: text/plain
              tier:
                contentType: text/plain
              tournament_start:
                contentType: text/plain
            schema:
              properties:
                custom_page_component:
                  type: string
                description:
                  example: School-wide League of Legends tournament
                  type: string
                external_links:
                  type: string
                image:
                  contentEncoding: binary
                  contentMediaType: application/octet-stream
                  format: binary
                  type: string
                is_visible:
                  type: boolean
                max_teams:
                  default: -1
                  example: 32
                  format: int64
                  type: integer
                registration_end:
                  example: "2025-03-10T23:59:59Z"
                  format: date-time
                  type: string
                registration_start:
                  example: "2025-03-01T00:00:00Z"
                  format: date-time
                  type: string
                tier:
                  enum:
                    - S Tier
                    - A Tier
                    - B Tier
                    - C Tier
                    - D Tier
                    - E Tier
                    - F Tier
                  example: C Tier
                  type: string
                tournament_start:
                  example: "2025-03-15T00:00:00Z"
                  format: date-time
                  type: string
              type: object
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Tournament"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - OAuth2 Auth:
            - profile
      summary: Update Tournament
      tags:
        - Tournament
  /tournaments/{id}/admin:
    post:
      description: Add a user as an admin to a tournament.
      operationId: addTournamentAdmin
      parameters:
        - example: 42
          in: path
          name: id
          required: true
          schema:
            example: 42
            format: int64
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/AddTournamentAdminBody"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Tournament"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - OAuth2 Auth:
            - profile
      summary: Add admin to tournament
      tags:
        - Tournament
  /tournaments/{id}/admin/{admin_id}:
    delete:
      description: Delete an admin of a tournament.
      operationId: deleteTournamentAdmin
      parameters:
        - example: 42
          in: path
          name: id
          required: true
          schema:
            example: 42
            format: int64
            type: integer
        - example: 42
          in: path
          name: admin_id
          required: true
          schema:
            example: 42
            format: int64
            type: integer
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Tournament"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - OAuth2 Auth:
            - profile
      summary: delete admin of tournament
      tags:
        - Tournament
    patch:
      description: Edit an admin of a tournament.
      operationId: editTournamentAdmin
      parameters:
        - example: 42
          in: path
          name: id
          required: true
          schema:
            example: 42
            format: int64
            type: integer
        - example: 42
          in: path
          name: admin_id
          required: true
          schema:
            example: 42
            format: int64
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              enum:
                - ADMIN
                - SUPER_ADMIN
              example: ADMIN
              type: string
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Tournament"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - OAuth2 Auth:
            - profile
      summary: edit admin of tournament
      tags:
        - Tournament
  /tournaments/{id}/me/team:
    get:
      description: This endpoint is used to get user team from a tournament.
      operationId: getUserTeamFromTournament
      parameters:
        - example: 42
          in: path
          name: id
          required: true
          schema:
            example: 42
            format: int64
            type: integer
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/LightTeam"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - OAuth2 Auth:
            - profile
      summary: Get User Team from Tournament
      tags:
        - Teams
  /tournaments/{id}/rank-groups:
    get:
      description: This endpoint is used to get all rank groups from a tournament.
      operationId: getAllRankGroupsTournament
      parameters:
        - example: 42
          in: path
          name: id
          required: true
          schema:
            example: 42
            format: int64
            type: integer
      responses:
        "200":
          content:
            application/json:
              schema:
                items:
                  $ref: "#/components/schemas/LightRankGroup"
                type: array
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - OAuth2 Auth:
            - profile
      summary: Get All Rank Groups from Tournament
      tags:
        - RankGroups
    put:
      description: This endpoint is used to update rank groups for a tournament.
      operationId: updateRankGroupsTournament
      parameters:
        - example: 42
          in: path
          name: id
          required: true
          schema:
            example: 42
            format: int64
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              items:
                $ref: "#/components/schemas/UpdateRankGroup"
              type: array
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                items:
                  $ref: "#/components/schemas/LightRankGroup"
                type: array
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - OAuth2 Auth:
            - profile
      summary: Update Rank Groups for Tournament
      tags:
        - RankGroups
  /tournaments/{id}/teams:
    get:
      description: This endpoint is used to get all teams from a tournament.
      operationId: getAllTeamsTournament
      parameters:
        - example: 42
          in: path
          name: id
          required: true
          schema:
            example: 42
            format: int64
            type: integer
        - example: 0
          explode: false
          in: query
          name: page
          schema:
            default: 0
            example: 0
            format: int64
            minimum: 0
            type: integer
        - example: 10
          explode: false
          in: query
          name: limit
          schema:
            default: 20
            example: 10
            format: int64
            maximum: 100
            minimum: 1
            type: integer
        - example: asc
          explode: false
          in: query
          name: order
          schema:
            default: desc
            enum:
              - asc
              - desc
            example: asc
            type: string
        - example: all
          explode: false
          in: query
          name: status
          schema:
            default: all
            enum:
              - all
              - locked
              - draft
              - register
              - waitlist
            example: all
            type: string
        - example: all
          explode: false
          in: query
          name: has_rank_group
          schema:
            default: all
            enum:
              - all
              - "yes"
              - "no"
            example: all
            type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ResponseLightTeam"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - OAuth2 Auth:
            - profile
      summary: Get All Teams from Tournament
      tags:
        - Teams
    post:
      description: This endpoint is used to create a team from a tournament.
      operationId: createTeamTournament
      parameters:
        - example: 42
          in: path
          name: id
          required: true
          schema:
            example: 42
            format: int64
            type: integer
      requestBody:
        content:
          multipart/form-data:
            encoding:
              creator_status:
                contentType: text/plain
              image:
                contentType: image/*
              name:
                contentType: text/plain
            schema:
              properties:
                creator_status:
                  example: Player
                  type: string
                image:
                  contentEncoding: binary
                  contentMediaType: application/octet-stream
                  format: binary
                  type: string
                name:
                  example: Team Phoenix
                  type: string
              required:
                - name
                - creator_status
              type: object
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/LightTeam"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - OAuth2 Auth:
            - profile
      summary: Create A Team from Tournament
      tags:
        - Teams
  /users:
    get:
      description: This endpoint is used to search users.
      operationId: searchUsers
      parameters:
        - example: froz
          explode: false
          in: query
          name: query
          schema:
            example: froz
            type: string
        - example: 0
          explode: false
          in: query
          name: page
          schema:
            default: 0
            example: 0
            format: int64
            minimum: 0
            type: integer
        - example: 10
          explode: false
          in: query
          name: limit
          schema:
            default: 20
            example: 10
            format: int64
            maximum: 100
            minimum: 1
            type: integer
        - example: asc
          explode: false
          in: query
          name: order
          schema:
            default: desc
            enum:
              - asc
              - desc
            example: asc
            type: string
        - example: user
          explode: false
          in: query
          name: kind
          schema:
            enum:
              - user
              - admin
            example: user
            type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ResponseLightUser"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - OAuth2 Auth:
            - profile
      summary: Search Users
      tags:
        - Users
  /users/{id_or_login}:
    get:
      description: This endpoint is used to get a user by its ID or login.
      operationId: getUserByIDOrLogin
      parameters:
        - example: froz
          in: path
          name: id_or_login
          required: true
          schema:
            example: froz
            type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/User"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - OAuth2 Auth:
            - profile
      summary: Get User by ID or Login
      tags:
        - Users
  /users/{id}/apps:
    get:
      description: This endpoint is used to get all apps for a user by their ID. **Users only.**
      operationId: getUserApps
      parameters:
        - in: path
          name: id
          required: true
          schema:
            format: int64
            type: integer
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ResponseApp"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - OAuth2 Auth:
            - profile
      summary: Get User Apps
      tags:
        - Apps
        - Users
  /users/{id}/permissions:
    get:
      description: This endpoint is used to get the user RBAC permissions.
      operationId: getUserRBACPermissions
      parameters:
        - example: 1
          in: path
          name: id
          required: true
          schema:
            example: 1
            format: int64
            type: integer
      responses:
        "200":
          content:
            application/json:
              schema:
                items:
                  $ref: "#/components/schemas/Permission"
                type: array
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - OAuth2 Auth:
            - profile
      summary: Get user RBAC permissions
      tags:
        - RBAC
        - Users
  /users/{id}/roles:
    post:
      description: This endpoint is used to change user roles.
      operationId: changeUserRoles
      parameters:
        - example: 42
          in: path
          name: id
          required: true
          schema:
            example: 42
            format: int64
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              items:
                type: string
              nullable: true
              type: array
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/User"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - OAuth2 Auth:
            - profile
      summary: Change user roles
      tags:
        - Users
  /votes:
    get:
      description: This endpoint is used to get all votes.
      operationId: getAllVotes
      parameters:
        - example: 0
          explode: false
          in: query
          name: page
          schema:
            default: 0
            example: 0
            format: int64
            minimum: 0
            type: integer
        - example: 10
          explode: false
          in: query
          name: limit
          schema:
            default: 20
            example: 10
            format: int64
            maximum: 100
            minimum: 1
            type: integer
        - example: asc
          explode: false
          in: query
          name: order
          schema:
            default: desc
            enum:
              - asc
              - desc
            example: asc
            type: string
        - example: visible
          explode: false
          in: query
          name: visible
          schema:
            default: visible
            enum:
              - all
              - visible
            example: visible
            type: string
        - example: ongoing
          explode: false
          in: query
          name: status
          schema:
            default: all
            enum:
              - all
              - ongoing
              - finish
              - not_started
            example: ongoing
            type: string
        - example: me
          explode: false
          in: query
          name: owner
          schema:
            default: all
            enum:
              - all
              - me
            example: me
            type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ResponseLightVote"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - OAuth2 Auth:
            - profile
      summary: Get All Votes
      tags:
        - Vote
    post:
      description: This endpoint is used to create a vote.
      operationId: createVote
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CreateVote"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Vote"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - OAuth2 Auth:
            - profile
      summary: Create Vote
      tags:
        - Vote
  /votes/{id}:
    delete:
      description: This endpoint is used to delete a vote.
      operationId: deleteVote
      parameters:
        - example: 42
          in: path
          name: id
          required: true
          schema:
            example: 42
            format: int64
            type: integer
      responses:
        "200":
          content:
            application/json:
              schema:
                type: string
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - OAuth2 Auth:
            - profile
      summary: Delete Vote
      tags:
        - Vote
    get:
      description: This endpoint is used to get a vote.
      operationId: getVoteByID
      parameters:
        - example: 42
          in: path
          name: id
          required: true
          schema:
            example: 42
            format: int64
            type: integer
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Vote"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - OAuth2 Auth:
            - profile
      summary: Get Vote by ID
      tags:
        - Vote
    patch:
      description: This endpoint is used to update a vote.
      operationId: updateVote
      parameters:
        - example: 42
          in: path
          name: id
          required: true
          schema:
            example: 42
            format: int64
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UpdateVote"
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Vote"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - OAuth2 Auth:
            - profile
      summary: Update Vote
      tags:
        - Vote
  /votes/{id}/components:
    post:
      description: This endpoint is used to create a component for a vote.
      operationId: createComponent
      parameters:
        - example: 42
          in: path
          name: id
          required: true
          schema:
            example: 42
            format: int64
            type: integer
      requestBody:
        content:
          multipart/form-data:
            encoding:
              color:
                contentType: text/plain
              description:
                contentType: text/plain
              image:
                contentType: image/*
              name:
                contentType: text/plain
            schema:
              properties:
                color:
                  example: "#FF5733"
                  type: string
                description:
                  example: Network infrastructure and connectivity
                  type: string
                image:
                  contentEncoding: binary
                  contentMediaType: application/octet-stream
                  format: binary
                  type: string
                name:
                  example: Network
                  type: string
              required:
                - name
                - description
                - color
                - image
              type: object
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Component"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - OAuth2 Auth:
            - profile
      summary: Create Component
      tags:
        - Vote
  /votes/{id}/live:
    get:
      description: Server-Sent Events stream that sends live vote results in real-time when votes are submitted. First sends a connection confirmation message, then streams updated results as they occur.
      operationId: liveVote
      parameters:
        - example: 42
          in: path
          name: id
          required: true
          schema:
            example: 42
            format: int64
            type: integer
      responses:
        "200":
          content:
            text/event-stream:
              schema:
                description: Each oneOf object in the array represents one possible Server Sent Events (SSE) message, serialized as UTF-8 text according to the SSE specification.
                items:
                  oneOf:
                    - properties:
                        data:
                          $ref: "#/components/schemas/ResultsResponse"
                        event:
                          const: message
                          description: The event name.
                          type: string
                        id:
                          description: The event ID.
                          type: integer
                        retry:
                          description: The retry time in milliseconds.
                          type: integer
                      required:
                        - data
                      title: Event message
                      type: object
                title: Server Sent Events
                type: array
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - OAuth2 Auth:
            - profile
      summary: Live updates for a vote
      tags:
        - Vote
  /votes/{id}/results:
    get:
      description: This endpoint is used to get vote results.
      operationId: getResults
      parameters:
        - example: 42
          in: path
          name: id
          required: true
          schema:
            example: 42
            format: int64
            type: integer
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ResultsResponse"
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - OAuth2 Auth:
            - profile
      summary: Get Vote results
      tags:
        - Vote
  /votes/{id}/submit:
    post:
      description: This endpoint is used to submit a vote.
      operationId: submitVote
      parameters:
        - example: 42
          in: path
          name: id
          required: true
          schema:
            example: 42
            format: int64
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              format: int64
              type: integer
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                type: string
          description: OK
        default:
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/ErrorModel"
          description: Error
      security:
        - OAuth2 Auth:
            - profile
      summary: Submit Vote
      tags:
        - Vote
servers:
  - description: Current Server
    url: /api
tags:
  - description: |
      `Authentification` contains all the endpoints related to the authentification of the user.
      Most of them are not usefull for you and require the `security` scope.
    name: Authentification
  - description: |
      `User` is the object representing a user in the database.
      It contains all the information about the user. its kind can be `user` or `admin`.
    name: Users
